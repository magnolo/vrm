{"version":3,"file":"vfa-slider.js","sources":["ng:/vfa-slider/lib/components.service.ts","ng:/vfa-slider/lib/components.component.ts","ng:/vfa-slider/lib/components.module.ts","ng:/vfa-slider/public-api.ts","ng:/vfa-slider/vfa-slider.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComponentsService {\n\n  constructor() { }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnInit,\n  QueryList,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation,\n} from '@angular/core';\n\nimport Tick from '@pqina/flip';\n\n@Component({\n  selector: 'vfa-slider',\n  templateUrl: './components.component.html',\n  styleUrls: ['./components.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class ComponentsComponent implements OnInit, AfterViewInit, OnChanges {\n  @Input() values: number[];\n\n  public content = [\n    {\n      title: 'Design, Tierstudien',\n      value: 152,\n      text: 'Für die EU bei der European Medicines Agency (EMA)',\n      backgroundColor: '#0F6292',\n    },\n    {\n      title: 'Erprobung in vergleichenden Studien mit Freiwilligen',\n      header: 'Phase I',\n      value: 16,\n      list: ['ca. 10-30 Freiwillige', 'Zur prüfen: Verträglichkeit'],\n      backgroundColor: '#1682C3',\n    },\n    {\n      title: 'Erprobung in vergleichenden Studien mit Freiwilligen',\n      header: 'Phase II',\n      value: 10,\n      list: [\n        'ca. 50-500 Freiwillige',\n        'Zur prüfen: Dosierung, Immunantwort vor Ansteckung',\n      ],\n      backgroundColor: '#1682C3',\n    },\n    {\n      title: 'Erprobung in vergleichenden Studien mit Freiwilligen',\n      header: 'Phase III',\n      value: 6,\n      list: [\n        'ca. 1.000-60.000 Freiwillige',\n        'Zur prüfen: Zuverlässigkeit des Schutzes',\n      ],\n      backgroundColor: '#1682C3',\n    },\n    {\n      title: 'Zulassungsverfahren',\n      value: 0,\n      text: 'Für die EU bei der European Medicines Agency (EMA)',\n      backgroundColor: '#48BFFB',\n    },\n  ];\n\n  public activeIdx = 0;\n  public lastIdx = 0;\n  private flipper;\n\n  @ViewChild('section') section: ElementRef;\n  @ViewChild('ringBg') ringBg: ElementRef;\n  @ViewChild('planeWrap') planeWrap: ElementRef;\n  @ViewChild('recruitmentText') recruitmentText: ElementRef;\n  @ViewChild('centerWipe') centerWipe: ElementRef;\n  @ViewChild('number') number: ElementRef;\n  @ViewChild('arrow') arrow: ElementRef;\n  @ViewChildren('steps') steps: QueryList<ElementRef>;\n  title = 'vrm';\n\n  constructor(private renderer: Renderer2, private cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log(changes);\n    if (this.values) {\n      let values = this.values;\n      if (typeof values === 'string') {\n        values = JSON.parse(values);\n      }\n      if (Array.isArray(values)) {\n        values.forEach((value, idx) => {\n          if (value != null && value !== undefined) {\n            this.content[idx].value = value;\n          }\n        });\n      }\n    }\n  }\n\n  ngAfterViewInit(): void {\n    // this.flipper = new Flip({\n    //   node: this.number.nativeElement,\n    //   from: this.content[0].value,\n    //   delay: 1, // second\n    // });\n    this.flipper = Tick.DOM.create(this.number.nativeElement, {\n      value: this.content[0].value\n    });\n\n    this.setActive(0);\n  }\n\n  setActive(idx) {\n    this.lastIdx = this.activeIdx;\n    this.activeIdx = idx;\n\n    const rotation = (360 / this.content.length) * this.activeIdx;\n\n    let difference = this.lastIdx - this.activeIdx;\n\n    if (difference < 0) {\n      difference = difference * -1;\n    }\n\n    const animationDuration = 1000 + 300 * difference;\n    const plane = this.planeWrap.nativeElement;\n    const path = this.ringBg.nativeElement;\n    const length = path.getTotalLength();\n\n    this.renderer.setStyle(\n      plane,\n      'transition',\n      animationDuration + 'ms all cubic-bezier(0.645, 0.045, 0.355, 1)'\n    );\n    this.renderer.setStyle(\n      plane,\n      'transform',\n      'translateY(-50%) rotate(' + rotation + 'deg)'\n    );\n\n    this.renderer.setStyle(\n      path,\n      'transition',\n      animationDuration + 'ms all cubic-bezier(0.645, 0.045, 0.355, 1)'\n    );\n    this.renderer.setStyle(path, 'stroke-dasharray', length);\n\n    this.renderer.setStyle(\n      path,\n      'stroke-dashoffset',\n      length - (length / this.content.length) * this.activeIdx\n    );\n\n    console.log(this.flipper);\n    this.flipper.value = this.content[this.activeIdx].value;\n    // this.flipper.flipTo({ to: this.content[this.activeIdx].value });\n\n    // const height = this.steps.toArray()[this.activeIdx].nativeElement\n    //   .scrollHeight;\n\n    // this.renderer.setStyle(\n    //   this.recruitmentText.nativeElement,\n    //   'height',\n    //   height + 'px'\n    // );\n    this.renderer.setStyle(\n      this.recruitmentText.nativeElement,\n      'background-color',\n      this.content[this.activeIdx].backgroundColor\n    );\n    this.renderer.setStyle(\n      this.section.nativeElement,\n      'background-color',\n      this.content[this.activeIdx].backgroundColor\n    );\n\n    this.cdr.detectChanges();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ComponentsComponent } from './components.component';\n\n@NgModule({\n  declarations: [ComponentsComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [ComponentsComponent]\n})\nexport class ComponentsModule { }\n","/*\n * Public API Surface of components\n */\n\nexport * from './lib/components.service';\nexport * from './lib/components.component';\nexport * from './lib/components.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}