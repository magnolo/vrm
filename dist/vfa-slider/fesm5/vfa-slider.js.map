{"version":3,"file":"vfa-slider.js","sources":["ng://vfa-slider/lib/vfa-slider.service.ts","ng://vfa-slider/lib/vfa-slider.constants.ts","ng://vfa-slider/lib/vfa-slider.component.ts","ng://vfa-slider/lib/vfa-slider.module.ts","ng://vfa-slider/public-api.ts","ng://vfa-slider/vfa-slider.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ComponentsService {\r\n\r\n  constructor() { }\r\n}\r\n","export const ITEMS = [\r\n  {\r\n    title: 'Impfstoff-Design, Tierstudien',\r\n    value: 152,\r\n    text:\r\n      'Design: Was vom Virus und welche Zusatzstoffe sollen enthalten sein? Anschließend Erprobung des Impfstoffs mit Tieren auf Verträglichkeit und Wirksamkeit.',\r\n    backgroundColor: '#0F6292',\r\n  },\r\n  {\r\n    title: 'Erprobung in Studien mit Freiwilligen',\r\n    header: 'Phase I',\r\n    value: 16,\r\n    list: [\r\n      'ca. 10-30 Freiwillige',\r\n      'Vergleich mit Scheinimpfung (Placebo)',\r\n      'zu prüfen: Verträglichkeit',\r\n    ],\r\n    backgroundColor: '#1682C3',\r\n  },\r\n  {\r\n    title: 'Erprobung in Studien mit Freiwilligen',\r\n    header: 'Phase II',\r\n    value: 10,\r\n    list: [\r\n      'ca. 50 - 500 Freiwillige',\r\n      'Vergleich von einmaliger und zweimaliger Impfung sowie Scheinimpfung (Placebo)',\r\n      'zu prüfen: richtige Dosierung, Immunantwort, Verträglichkeit.',\r\n    ],\r\n    backgroundColor: '#1682C3',\r\n  },\r\n  {\r\n    title: 'Erprobung in Studien mit Freiwilligen',\r\n    header: 'Phase III ohne Rolling Review',\r\n    value: 6,\r\n    list: [\r\n      'ca. 10.000 - 60.000 Freiwillige',\r\n      'Vergleich mit Scheinimpfung (Placebo)',\r\n      'zu prüfen: Zuverlässigkeit des Schutzes, Verträglichkeit',\r\n    ],\r\n    text: 'Es sind noch keine Zulassungsunterlagen eingereicht.',\r\n    info: `<b>Rolling Review</b><br />Vorgezogene Prüfung eines Teils der Zulassungsunterlagen: ​ Während die Studien noch\r\n    laufen, arbeitet die European Medicines Agency (EMA) schon Zulassungsunterlagen des\r\n    Herstellers zu Tierstudien und Phase I bis II durch.`,\r\n    backgroundColor: '#1682C3',\r\n  },\r\n  {\r\n    title: 'Erprobung in Studien mit Freiwilligen',\r\n    header: 'Phase III mit Rolling Review',\r\n    list: [\r\n      'ca. 10.000 – 60.000 Freiwillige',\r\n      'Vergleich mit Scheinimpfung (Placebo)',\r\n      'Zu prüfen: Zuverlässigkeit des Schutzes, Verträglichkeit',\r\n    ],\r\n    value: 0,\r\n    info: `<b>Rolling Review</b><br />Vorgezogene Prüfung eines Teils der Zulassungsunterlagen: ​ Während die Studien noch\r\n    laufen, arbeitet die European Medicines Agency (EMA) schon Zulassungsunterlagen des\r\n    Herstellers zu Tierstudien und Phase I bis II durch.`,\r\n    backgroundColor: '#1682C3',\r\n  },\r\n  {\r\n    title: 'Zulassungsverfahren in der EU',\r\n    value: 6,\r\n    list: ['mit kompletten Zulassungsunterlagen'],\r\n    backgroundColor: '#48BFFB',\r\n    text:\r\n      'Prüfung des Antrags für die EU bei der European Medicines Agency (EMA) in Amsterdam.',\r\n  },\r\n  {\r\n    title: 'Zugelassen in der EU',\r\n    value: 0,\r\n    text:\r\n      'Zulassung durch die EU-Kommission nach einer positiven Zulassungsempfehlung der EMA.',\r\n    backgroundColor: '#48BFFB',\r\n  },\r\n];\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewChildren,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nimport Tick from '@pqina/flip';\r\nimport { ITEMS } from './vfa-slider.constants';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({\r\n    'Access-Control-Allow-Origin': '*',\r\n  }),\r\n};\r\n\r\n@Component({\r\n  selector: 'vfa-slider',\r\n  templateUrl: './vfa-slider.component.html',\r\n  styleUrls: ['./vfa-slider.component.scss'],\r\n  // encapsulation: ViewEncapsulation.ShadowDom\r\n})\r\nexport class VfaSliderComponent implements OnInit, AfterViewInit, OnChanges {\r\n  @Input() values: number[];\r\n\r\n  @Input() date: string = '04.09.2020';\r\n\r\n  public content = ITEMS;\r\n\r\n  public loaded = false;\r\n\r\n  public activeIdx = 0;\r\n  public lastIdx = 0;\r\n  private flipper;\r\n  public embedModalActive = false;\r\n  public copiedSuccess = false;\r\n\r\n  public iframeCode = `<iframe src=\"https://vfa.23degrees.io/embed/index.html\" style=\"border:none;width: 100%; height: 100%; min-height: 520px\"></iframe>`;\r\n\r\n  public svgs = {\r\n    plane: 'M7 30L0 -2.62268e-06L30 15L60 30L30 45L-2.62268e-06 60L7 30Z',\r\n    arrow:\r\n      'M12 21L21.5 30L49 -4.5897e-07L59.5 12.5L20 55L-1.48619e-06 34L12 21Z',\r\n  };\r\n\r\n  @ViewChild('section') section: ElementRef;\r\n  @ViewChild('ringBg') ringBg: ElementRef;\r\n  @ViewChild('planeWrap') planeWrap: ElementRef;\r\n  @ViewChild('recruitmentText') recruitmentText: ElementRef;\r\n  @ViewChild('number') number: ElementRef;\r\n  @ViewChild('arrow') arrow: ElementRef;\r\n  @ViewChild('svgArrow') svgArrow: ElementRef;\r\n  @ViewChild('svgCheck') svgCheck: ElementRef;\r\n  @ViewChild('arc') arc: ElementRef;\r\n  // @ViewChild('svgAnimation') svgAnimation: ElementRef;\r\n  @ViewChildren('steps') steps: QueryList<ElementRef>;\r\n  title = 'vrm';\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef,\r\n    private sanitize: DomSanitizer,\r\n    private httpClient: HttpClient,\r\n    @Inject(DOCUMENT) private document: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    if (!this.values) {\r\n      this.getData();\r\n    }\r\n  }\r\n\r\n  async getData() {\r\n    try{\r\n      const response = await this.httpClient\r\n      .get<any>('https://vfa.23d.gr/api/values', httpOptions)\r\n      .toPromise();\r\n\r\n    response.values.forEach((value, idx) => (this.content[idx].value = value));\r\n    this.date = response.date;\r\n\r\n    }\r\n    catch(e){\r\n      console.log(e)\r\n    }\r\n   \r\n    this.setActive(0);\r\n\r\n    setTimeout(() => {\r\n      this.loaded = true;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.values) {\r\n      let values = this.values;\r\n      if (typeof values === 'string') {\r\n        values = JSON.parse(values);\r\n      }\r\n      if (Array.isArray(values)) {\r\n        values.forEach((value, idx) => {\r\n          if (value != null && value !== undefined) {\r\n            this.content[idx].value = value;\r\n          }\r\n        });\r\n      }\r\n      if (changes.values && !changes.values.isFirstChange()) {\r\n        this.setActive(this.activeIdx);\r\n      }\r\n    }\r\n\r\n    if (changes.date) {\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.flipper = Tick.DOM.create(this.number.nativeElement, {\r\n      value: 0,\r\n    });\r\n\r\n    const arc = this.generateArc(200, 200, 200, 25, 335);\r\n    this.renderer.setAttribute(this.arc.nativeElement, 'd', arc);\r\n    if (this.values) {\r\n      this.setActive(0);\r\n      setTimeout(() => {\r\n        this.loaded = true;\r\n        this.cdr.detectChanges();\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  setActive(idx) {\r\n    this.lastIdx = this.activeIdx;\r\n    this.activeIdx = idx;\r\n\r\n    // const rotation = (360 / this.content.length) * this.activeIdx;\r\n    const rotation = 360 - ((360 / this.content.length) * this.activeIdx + 25);\r\n\r\n    let difference = this.lastIdx - this.activeIdx;\r\n\r\n    if (difference < 0) {\r\n      difference = difference * -1;\r\n    }\r\n\r\n    const animationDuration = 500 + 300 * difference;\r\n    const plane = this.planeWrap.nativeElement;\r\n    const path: SVGGeometryElement = this.ringBg.nativeElement;\r\n    const length =\r\n      path.getBoundingClientRect().height > 0 && path.getTotalLength\r\n        ? path.getTotalLength()\r\n        : 0;\r\n\r\n    let opacityDelay = 0;\r\n    if (this.activeIdx === this.content.length - 1) {\r\n      opacityDelay = 300 * difference;\r\n    }\r\n\r\n    if (plane) {\r\n      this.renderer.setStyle(\r\n        plane,\r\n        'transition',\r\n        `${animationDuration}ms transform cubic-bezier(0.645, 0.045, 0.355, 1)`\r\n      );\r\n      this.renderer.setStyle(\r\n        plane,\r\n        'transform',\r\n        'translateY(-50%) rotate(' + rotation + 'deg)'\r\n      );\r\n\r\n      this.renderer.setStyle(\r\n        this.svgArrow.nativeElement,\r\n        'transition',\r\n        `opacity 500ms ${opacityDelay}ms cubic-bezier(0.645, 0.045, 0.355, 1)`\r\n      );\r\n\r\n      // this.renderer.setStyle(\r\n      //   this.svgCheck.nativeElement,\r\n      //   'transition',\r\n      //   `opacity 500ms ${opacityDelay}ms cubic-bezier(0.645, 0.045, 0.355, 1)`\r\n      // );\r\n\r\n      if (this.activeIdx === this.content.length - 1) {\r\n        this.renderer.setStyle(this.svgArrow.nativeElement, 'opacity', '0');\r\n        // this.renderer.setStyle(\r\n        //   this.svgCheck.nativeElement,\r\n        //   'opacity',\r\n        //   '1'\r\n        // );\r\n      } else {\r\n        this.renderer.setStyle(this.svgArrow.nativeElement, 'opacity', '1');\r\n        // this.renderer.setStyle(\r\n        //   this.svgCheck.nativeElement,\r\n        //   'opacity',\r\n        //   '0'\r\n        // );\r\n      }\r\n    }\r\n    if (path) {\r\n      this.renderer.setStyle(\r\n        path,\r\n        'transition',\r\n        animationDuration + 'ms all cubic-bezier(0.645, 0.045, 0.355, 1)'\r\n      );\r\n      this.renderer.setStyle(path, 'stroke-dasharray', length);\r\n\r\n      this.renderer.setStyle(\r\n        path,\r\n        'stroke-dashoffset',\r\n        length - (length / this.content.length) * this.activeIdx\r\n      );\r\n    }\r\n\r\n    this.flipper.value = this.content[this.activeIdx].value;\r\n\r\n    // const height = this.steps.toArray()[this.activeIdx].nativeElement\r\n    //   .scrollHeight;\r\n\r\n    // this.renderer.setStyle(\r\n    //   this.recruitmentText.nativeElement,\r\n    //   'height',\r\n    //   height + 'px'\r\n    // );\r\n    // this.renderer.setStyle(\r\n    //   this.recruitmentText.nativeElement,\r\n    //   'background-color',\r\n    //   this.content[this.activeIdx].backgroundColor\r\n    // );\r\n    this.renderer.setStyle(\r\n      this.section.nativeElement,\r\n      'background-color',\r\n      this.content[this.activeIdx].backgroundColor\r\n    );\r\n\r\n    // let svgForm = this.svgs.plane;\r\n\r\n    // this.svgAnimation.nativeElement.beginElement();\r\n    // this.renderer.setAttribute(this.arrow.nativeElement, 'd', svgForm);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  transform(idx) {\r\n    return this.sanitize.bypassSecurityTrustStyle(\r\n      'translateY(-50%) rotate(' +\r\n        (360 - ((360 / this.content.length) * idx + 25)) +\r\n        'deg)'\r\n    );\r\n  }\r\n\r\n  transformInner(idx) {\r\n    let scale = '';\r\n    if (idx === this.activeIdx && idx === this.content.length - 1) {\r\n      scale = ' scale(1.2)';\r\n    }\r\n    return this.sanitize.bypassSecurityTrustStyle(\r\n      'rotate(' +\r\n        (360 - ((-360 / this.content.length) * idx - 25)) +\r\n        'deg)' +\r\n        scale\r\n    );\r\n  }\r\n\r\n  generateArc(x, y, radius, startAngle, endAngle) {\r\n    const start = this.polarToCartesian(x, y, radius, endAngle);\r\n    const end = this.polarToCartesian(x, y, radius, startAngle);\r\n\r\n    const largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\r\n\r\n    const d = [\r\n      'M',\r\n      start.x,\r\n      start.y,\r\n      'A',\r\n      radius,\r\n      radius,\r\n      0,\r\n      largeArcFlag,\r\n      0,\r\n      end.x,\r\n      end.y,\r\n    ].join(' ');\r\n\r\n    return d;\r\n  }\r\n  polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n    const angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n\r\n    return {\r\n      x: centerX + radius * Math.cos(angleInRadians),\r\n      y: centerY + radius * Math.sin(angleInRadians),\r\n    };\r\n  }\r\n\r\n  copyToClipboard() {\r\n    // Create a <textarea> element\r\n    const element = this.document.createElement(\r\n      'textarea'\r\n    ) as HTMLTextAreaElement;\r\n\r\n    // Set its value to the string that you want copied\r\n    element.value = this.iframeCode;\r\n\r\n    // Make it readonly to be tamper-proof\r\n    // element.setAttribute('readonly', '');\r\n\r\n    element.readOnly = false;\r\n    element.contentEditable = 'true';\r\n\r\n    element.style.position = 'absolute';\r\n    element.style.left = '-9001px';\r\n\r\n    this.document.body.appendChild(element);\r\n\r\n    // Check if there is any content selected previously, mark as false to know no selection existed before\r\n    const selected =\r\n      this.document.getSelection().rangeCount > 0\r\n        ? this.document.getSelection().getRangeAt(0)\r\n        : false;\r\n\r\n    // iOS > 10 fix\r\n    if (navigator.userAgent.match(/ipad|ipod|iphone/i)) {\r\n      const range = this.document.createRange();\r\n      range.selectNodeContents(element);\r\n\r\n      const selection = this.document.getSelection();\r\n      selection.removeAllRanges();\r\n      selection.addRange(range);\r\n\r\n      element.focus();\r\n      element.setSelectionRange(0, element.value.length);\r\n    } else {\r\n      element.select();\r\n    }\r\n\r\n    // Copy - only works as a result of a user action (e.g. click events)\r\n    this.document.execCommand('copy');\r\n\r\n    this.document.body.removeChild(element);\r\n\r\n    if (selected) {\r\n      // If a selection existed before copying\r\n      this.document.getSelection().removeAllRanges(); // Unselect everything on the HTML document\r\n      this.document.getSelection().addRange(selected); // Restore the original selection\r\n    }\r\n    this.copiedSuccess = true;\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  toggleEmbedView(open) {\r\n    this.embedModalActive = open;\r\n    if (!this.embedModalActive) {\r\n      this.copiedSuccess = false;\r\n    }\r\n    this.cdr.detectChanges();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { VfaSliderComponent } from './vfa-slider.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n@NgModule({\r\n  declarations: [VfaSliderComponent],\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule\r\n  ],\r\n  exports: [VfaSliderComponent]\r\n})\r\nexport class VfaSliderModule { }\r\n","/*\r\n * Public API Surface of components\r\n */\r\n\r\nexport * from './lib/vfa-slider.service';\r\nexport * from './lib/vfa-slider.component';\r\nexport * from './lib/vfa-slider.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}